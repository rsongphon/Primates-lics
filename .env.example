# LICS Environment Configuration Template
# Copy this file to .env and update with your actual values

# ============================================================================
# Environment
# ============================================================================
NODE_ENV=development
ENVIRONMENT=development
DEBUG=true

# ============================================================================
# Database Configuration
# ============================================================================
# Direct PostgreSQL connection (without pooling)
DATABASE_URL=postgresql://lics:lics123@localhost:5432/lics_dev
# PgBouncer pooled connection (recommended for production)
DATABASE_POOLED_URL=postgresql://lics:lics123@localhost:6432/lics_dev
# Development PgBouncer connection
DATABASE_DEV_POOLED_URL=postgresql://lics:lics123@localhost:6433/lics_dev

# Database pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# Connection timeout settings
DATABASE_CONNECT_TIMEOUT=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600
REDIS_CONNECTION_POOL_SIZE=50

# ============================================================================
# Authentication & Security
# ============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
SECRET_KEY=your-secret-key-for-session-signing
ENCRYPTION_KEY=your-32-byte-encryption-key-base64-encoded

# Password hashing
BCRYPT_ROUNDS=12

# CORS settings
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
ALLOWED_HEADERS=*

# ============================================================================
# MQTT Configuration
# ============================================================================
MQTT_BROKER_URL=localhost
MQTT_BROKER_PORT=1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_USE_TLS=false
MQTT_TOPIC_PREFIX=lics/devices

# ============================================================================
# InfluxDB Configuration (Time Series Database)
# ============================================================================
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=lics-admin-token-change-in-production
INFLUXDB_ORG=lics
INFLUXDB_BUCKET=telemetry
INFLUXDB_TIMEOUT=10000

# Development InfluxDB settings
INFLUXDB_DEV_URL=http://localhost:8087
INFLUXDB_DEV_TOKEN=lics-dev-admin-token
INFLUXDB_DEV_ORG=lics-dev
INFLUXDB_DEV_BUCKET=telemetry-dev

# ============================================================================
# Celery Configuration
# ============================================================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC

# ============================================================================
# Object Storage (MinIO/S3)
# ============================================================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_TLS=false
MINIO_BUCKET_NAME=lics-data

# AWS S3 (alternative to MinIO)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_DEFAULT_REGION=us-west-2
# AWS_S3_BUCKET=lics-production-data

# ============================================================================
# Email Configuration
# ============================================================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=false
EMAIL_FROM=noreply@lics.local

# For production, use a real email service
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your-sendgrid-api-key
# SMTP_USE_TLS=true

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/lics.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=json

# Sentry (Error tracking - optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================================================
# Monitoring & Observability
# ============================================================================
ENABLE_METRICS=true
PROMETHEUS_PORT=8001
METRICS_PATH=/metrics

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=lics-backend
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0.0

# ============================================================================
# Frontend Configuration
# ============================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8001
NEXT_PUBLIC_APP_NAME=LICS
NEXT_PUBLIC_APP_VERSION=1.0.0

# Feature flags
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_ENABLE_VIDEO_STREAMING=true
NEXT_PUBLIC_ENABLE_REAL_TIME=true
NEXT_PUBLIC_DEBUG=false

# Analytics (optional)
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
# NEXT_PUBLIC_HOTJAR_ID=your-hotjar-id

# ============================================================================
# Edge Agent Configuration
# ============================================================================
EDGE_AGENT_ID=edge-001
EDGE_AGENT_NAME=Development Edge Agent
EDGE_AGENT_LOCATION=Development Lab

# Hardware simulation for development
SIMULATE_HARDWARE=true
GPIO_MODE=BCM

# ============================================================================
# Development Tools
# ============================================================================
# Automatically reload services on code changes
AUTO_RELOAD=true

# Enable debug toolbar
ENABLE_DEBUG_TOOLBAR=false

# API documentation
ENABLE_API_DOCS=true
API_DOCS_URL=/docs

# Database admin interface
ENABLE_DB_ADMIN=false

# ============================================================================
# Testing Configuration
# ============================================================================
TEST_DATABASE_URL=postgresql://lics:lics123@localhost:5432/lics_test
TEST_REDIS_URL=redis://localhost:6379/15

# ============================================================================
# Production Settings (uncomment for production)
# ============================================================================

# Security
# SECURE_SSL_REDIRECT=true
# SESSION_COOKIE_SECURE=true
# CSRF_COOKIE_SECURE=true
# SECURE_BROWSER_XSS_FILTER=true
# SECURE_CONTENT_TYPE_NOSNIFF=true

# Performance
# CACHE_MIDDLEWARE_SECONDS=300
# SESSION_CACHE_ALIAS=default

# Static files (for production)
# STATIC_URL=/static/
# STATIC_ROOT=/var/www/static/
# MEDIA_URL=/media/
# MEDIA_ROOT=/var/www/media/

# ============================================================================
# Cloud Provider Specific (AWS Example)
# ============================================================================

# AWS Configuration
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_DEFAULT_REGION=us-west-2
# AWS_S3_REGION_NAME=us-west-2

# EKS Configuration
# EKS_CLUSTER_NAME=lics-production
# EKS_NODE_GROUP=lics-workers

# RDS Configuration
# RDS_ENDPOINT=lics-prod.cluster-xxxxx.us-west-2.rds.amazonaws.com
# RDS_PORT=5432

# ElastiCache Configuration
# ELASTICACHE_ENDPOINT=lics-prod.xxxxx.cache.amazonaws.com
# ELASTICACHE_PORT=6379

# ============================================================================
# Backup & Recovery
# ============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# ============================================================================
# Rate Limiting
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ============================================================================
# WebSocket Configuration
# ============================================================================
WS_PORT=8001
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30

# ============================================================================
# File Upload Limits
# ============================================================================
MAX_UPLOAD_SIZE=100MB
ALLOWED_FILE_TYPES=.jpg,.jpeg,.png,.gif,.pdf,.mp4,.avi,.mov,.csv,.json,.yaml,.yml

# ============================================================================
# Internationalization
# ============================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,zh

# ============================================================================
# Maintenance Mode
# ============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ============================================================================
# Custom Application Settings
# ============================================================================

# Experiment settings
MAX_CONCURRENT_EXPERIMENTS=10
DEFAULT_EXPERIMENT_DURATION=3600  # 1 hour in seconds
AUTO_SAVE_INTERVAL=30  # seconds

# Device settings
DEVICE_HEARTBEAT_INTERVAL=60  # seconds
DEVICE_TIMEOUT=300  # seconds
MAX_DEVICES_PER_USER=50

# Task settings
MAX_TASK_COMPLEXITY=100
DEFAULT_TASK_TIMEOUT=1800  # 30 minutes

# Video settings
VIDEO_RESOLUTION=1920x1080
VIDEO_FPS=30
VIDEO_BITRATE=2000  # kbps
MAX_RECORDING_DURATION=7200  # 2 hours in seconds